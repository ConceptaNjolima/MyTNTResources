# Intro to creating a new app and React

This lesson covers React. It introduces how to create a new React App project that supports TypeScript. It describes generating the project with the React integrated tool chain, the pieces of the project, making changes, and running the project.

*Open questions in lesson*
* *Need app architecture diagram*

## Learning objectives

* TNTs will understand how React fits into the app architecture.
* TNTs will be able to create a new React app with TypeScript.
* TNTs will learn the basic pieces of the project generated by the React tool chain.
* TNTs will be able to edit and run the app.

## Time required and pace

Total time: 1.5 hour

* 10 minutes - engage: revisit app architecture
* 20 minutes - explain: create a new React app with TypeScript
* 30 minutes - explore: explore create React app
* 15 minutes - elaborate: review
* 15 minutes - evaluate: extend the sample

## Background / review

* [Create a New React App](https://reactjs.org/docs/create-a-new-react-app.html)
* [Create a React App - Adding TypeScript](https://create-react-app.dev/docs/adding-typescript/)
* [React official web site on GitHub](https://github.com/facebook/react) 
* [Reactjs.org docs](https://reactjs.org/docs)
* [React with TypeScript cheatsheet](https://react-typescript-cheatsheet.netlify.app)

Pre-reqs

* [Yarn](https://www.npmjs.com/package/yarn) - `npm install -g yarn`
* Create React app library - `npm install -g create-react-app`

## Lesson details

### Revisit app architecture (10 minutes)

* Revisit React as the component framework
  * React is a JS library for building user interfaces
  * UI is built in small, isolated pieces called components
  * Components tell React what to display on the screen
  * When the data changes, React *reacts* and updates the screen
  * CSS is used to style React
  * React is the code behind rendering HTML in a webpage
  * [React](https://github.com/facebook/react) is an open source project from Facebook. It is used at Microsoft in web experiences across teams. IG, Netflix, New York Times, Khan Academy, WhatsApp, Dropbox... all use and contribute to React.
* As a table, TNTs draw what they have learned so far about the app architecture
  * Display app architecture with labels, no descriptions
  * TNT groups talk through the function of the different parts and how they connect
* Re-group and walk through architecture thus far together - HTML, CSS, React, Node...

### Creating a new React app with TypeScript (20 minutes)

* Introduce tool chain to generate a React app
  * [Create a New React App](https://reactjs.org/docs/create-a-new-react-app.html) 
  * This section covers using [TypeScript with React](https://create-react-app.dev/docs/adding-typescript)
  * The library sets up the environment with the latest TypeScript features and optimizes the app for production

* Demo - create React Project
  * `yarn create react-app my-app --template typescript` is the command to run in the terminal. Breaking down the command:
     * `yarn` - command line programing for installing JS packages from npm
     * `create react-app` - library for generating the environment
     * `my-app` - name of the app
     * `--template typescript` - use the TypeScript template
  * Run the command

* Demo - terminal during create React app
  * The command fetches and installs the dependencies needed for a React TypeScript app. The first time it is installed you can see it in action.
  * create react-app will creates a workspace folder with the provided name where the terminal directory, folder, is at.
  * If it succeeds, a Git repository is created.

* Demo - starting the app
  * create react-app ends with some helpful commands to run
  * `cd` - change directory to where the repo was created
  * Run `yarn start` script
  * The app runs in the browser! The Node.js server is running locally.

* Demo - editing the app
  * Open the workspace folder in VS Code, it is the same directory used to start the app.
    * Tour the contents of what was generated:
      * public folder - can be opened from browser address bar
      * src folder - "source" working files to create the build
      * node_modules folder - installed packages
      * favicon.ico - the image that's displayed in a browser tab
      * index.html - most common name for the default webpage of a website
      * logo.png - two sizes, displayed in the web page
      * manifest.json - metadata for WebExtensions API, used for bookmarks and cross-browsers for compatibility
      * robots.txt - used by search engines for indexing
      * App.css - top level style
      * App.test.tsx - running test with Jest, more on this later
      * App.tsx - React module
      * index.tsx - React module
      * logo.svg - scalable vector of logo
      * react-app-env.d.ts - dev environment
      * serviceWorker.ts - executes in the background on separate thread from UI, allows app to work offline and used for platform integration
      * setupTests.ts - tests Jest will run
      * .gitignore - tells Git which files or folder to ignore in a project such as editor backup and local configuration files
      * package.json - dependencies
      * README - scripts for project and links to learn more about create React app
      * tsconfig.json - TypeScript configuration
      * yarn.lock - stores what versions were installed
    * Edit the App.tsx
    * Save
    * Watch app re-render

* Demo - small React sample 
    * To update a welcome string based on input text
    * Edit the App.tsx by replacing the text in my-app with Welcome and an input textbox 
    * Add the state of the component
    * Watch the update of Welcome string
    
* Common errors:'react-scripts' is not recognized as an internal or external command. Use the command `yarn install`or `npm install`, depending on which the project uses, to get the package manager to install the dependencies.

### Explore create React app (30 minutes)

NTs create a new React TS app with create react-app. Observe for NTs blocked in generating app from missing dependencies.

1. Run the app
2. Make changes in the app using CSS, HTML, and React. Save the file App.tsx and watch the page reload
3. Make changes in the App.css file. Notice how the style changes
4. Try adding the small React sample (textbox that update the welcome string)

### Review (15 minutes)

1. Post to Teams what went well and what was challenging?
2. A few students share with the room
3. Talk through examples of how to resolve the challenges?

### Extend the sample (15 minutes)

NTs will work on the create react sample app that updates the welcome string. 

## Stretch

* Check out these samples: [Recommended React + TypeScript codebases to learn from](https://react-typescript-cheatsheet.netlify.app/docs/basic/recommended/resources)
* Check out these community samples: [Example projects](https://reactjs.org/community/examples.html)
